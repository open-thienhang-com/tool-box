"use strict";(self.webpackChunktool_box=self.webpackChunktool_box||[]).push([[742],{9742:(B,g,m)=>{m.r(g),m.d(g,{ColorPickerComponent:()=>F});var _=m(9417),t=m(4438);const x=["canvas"];let w=(()=>{class s{constructor(){this.hue="",this.color=new t.bkB(!0),this.canvas={},this.width=400,this.height=200,this.mousedown=!1,this.selectedPosition={x:250,y:0}}ngAfterViewInit(){this.draw()}draw(){if(!this.canvas.nativeElement)return;this.ctx||(this.ctx=this.canvas.nativeElement.getContext("2d"));const e=this.canvas.nativeElement.width,o=this.canvas.nativeElement.height;this.ctx.fillStyle=this.hue||"rgba(255,255,255,1)",this.ctx.fillRect(0,0,e,o);const i=this.ctx.createLinearGradient(0,0,e,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,e,o);const n=this.ctx.createLinearGradient(0,0,0,o);n.addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(0,0,0,1)"),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,e,o),this.selectedPosition&&(this.ctx.strokeStyle="white",this.ctx.fillStyle="white",this.ctx.beginPath(),this.ctx.arc(this.selectedPosition.x,this.selectedPosition.y,13,0,2*Math.PI),this.ctx.lineWidth=2,this.ctx.stroke())}ngOnChanges(e){if(e.hue){this.draw();const o=this.selectedPosition;o&&this.color.emit(this.getColorAtPosition(o.x,o.y))}}onMouseUp(e){this.mousedown=!1}onMouseDown(e){this.mousedown=!0,this.selectedPosition={x:e.offsetX,y:e.offsetY},this.draw(),this.color.emit(this.getColorAtPosition(e.offsetX,e.offsetY))}onMouseMove(e){this.mousedown&&(this.selectedPosition={x:e.offsetX,y:e.offsetY},this.draw(),this.emitColor(e.offsetX,e.offsetY))}emitColor(e,o){const i=this.getColorAtPosition(e,o);this.color.emit(i)}getColorAtPosition(e,o){const i=this.ctx.getImageData(e,o,1,1).data;return[i[0],i[1],i[2]]}static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-color-palette"]],viewQuery:function(o,i){if(1&o&&t.GBs(x,5),2&o){let n;t.mGM(n=t.lsd())&&(i.canvas=n.first)}},hostBindings:function(o,i){1&o&&t.bIt("mouseup",function(l){return i.onMouseUp(l)},!1,t.tSv)},inputs:{hue:"hue"},outputs:{color:"color"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:2,consts:[["canvas",""],[1,"color-palette",3,"mousedown","mousemove","width","height"]],template:function(o,i){if(1&o){const n=t.RV6();t.j41(0,"canvas",1,0),t.bIt("mousedown",function(c){return t.eBV(n),t.Njj(i.onMouseDown(c))})("mousemove",function(c){return t.eBV(n),t.Njj(i.onMouseMove(c))}),t.k0s()}2&o&&t.Y8G("width",i.width)("height",i.height)},styles:[".color-palette[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;display:block}"]})}return s})();const v=["canvas"];let b=(()=>{class s{constructor(){this.color=new t.bkB,this.mousedown=!1,this.selectedWidth=10,this.width=400,this.height=100,this.selectedCircleRadius=13,this.defaultPositionX=200,this.defaultPositionY=40}ngAfterViewInit(){this.selectedWidth=this.defaultPositionX,this.draw(),this.emitColor(this.defaultPositionX,this.defaultPositionY)}draw(){this.ctx||(this.ctx=this.canvas.nativeElement.getContext("2d"));const e=this.width,o=this.height;this.ctx.clearRect(0,0,e,o);const i=this.ctx.createLinearGradient(0,0,e,0);i.addColorStop(0,"rgba(255, 0, 0, 1)"),i.addColorStop(.17,"rgba(255, 255, 0, 1)"),i.addColorStop(.34,"rgba(0, 255, 0, 1)"),i.addColorStop(.51,"rgba(0, 255, 255, 1)"),i.addColorStop(.68,"rgba(0, 0, 255, 1)"),i.addColorStop(.85,"rgba(255, 0, 255, 1)"),i.addColorStop(1,"rgba(255, 0, 0, 1)"),this.ctx.beginPath(),this.ctx.roundRect(this.selectedCircleRadius,o/2-this.selectedCircleRadius,e-2*this.selectedCircleRadius,this.selectedCircleRadius,8),this.ctx.fillStyle=i,this.ctx.fill(),this.ctx.closePath(),this.selectedWidth&&(this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.arc(this.selectedWidth+5,o/2-this.selectedCircleRadius/2,this.selectedCircleRadius,0,2*Math.PI),this.ctx.fill(),this.ctx.strokeStyle="white",this.ctx.stroke(),this.ctx.closePath())}onMouseUp(e){this.mousedown=!1}onMouseDown(e){this.mousedown=!0,this.selectedWidth=e.offsetX,this.modifySelectedWidth(),this.draw(),this.emitColor(e.offsetX,e.offsetY)}onMouseMove(e){this.mousedown&&(this.selectedWidth=e.offsetX,this.modifySelectedWidth(),this.draw(),this.emitColor(e.offsetX,e.offsetY))}emitColor(e,o){const i=this.getColorAtPosition(e,40);this.color.emit(i)}getColorAtPosition(e,o){const i=this.ctx.getImageData(e,o,1,1).data;return"rgba("+i[0]+","+i[1]+","+i[2]+",1)"}modifySelectedWidth(){this.selectedWidth>this.width-2*this.selectedCircleRadius&&(this.selectedWidth=this.width-2*this.selectedCircleRadius),this.selectedWidth<this.selectedCircleRadius&&(this.selectedWidth=this.selectedCircleRadius)}static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-color-slider"]],viewQuery:function(o,i){if(1&o&&t.GBs(v,5),2&o){let n;t.mGM(n=t.lsd())&&(i.canvas=n.first)}},hostBindings:function(o,i){1&o&&t.bIt("mouseup",function(l){return i.onMouseUp(l)},!1,t.tSv)},outputs:{color:"color"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["canvas",""],[1,"color-slider",3,"mousedown","mousemove","width","height"]],template:function(o,i){if(1&o){const n=t.RV6();t.j41(0,"canvas",1,0),t.bIt("mousedown",function(c){return t.eBV(n),t.Njj(i.onMouseDown(c))})("mousemove",function(c){return t.eBV(n),t.Njj(i.onMouseMove(c))}),t.k0s()}2&o&&t.Y8G("width",i.width)("height",i.height)},styles:[".color-palette[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return s})();var P=m(177);const k=["content"];function M(s,f){}let S=(()=>{class s{constructor(){this.legend=""}static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-field-set"]],contentQueries:function(o,i,n){if(1&o&&t.wni(n,k,5),2&o){let l;t.mGM(l=t.lsd())&&(i.content=l.first)}},inputs:{legend:"legend"},standalone:!0,features:[t.aNF],decls:6,vars:2,consts:[[1,"py-3"],[1,"field-set","d-flex","justify-content-center"],[1,"content"],[3,"ngTemplateOutlet"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"legend"),t.EFF(3),t.k0s(),t.j41(4,"div",2),t.DNE(5,M,0,0,"ng-template",3),t.k0s()()()),2&o&&(t.R7$(3),t.JRh(i.legend),t.R7$(2),t.Y8G("ngTemplateOutlet",i.content))},dependencies:[P.T3],styles:[".field-set[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:5px;padding:15px;position:relative}.field-set[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{position:absolute;padding:7px 15px;background-color:#fff;top:-22px;width:-moz-fit-content;width:fit-content;font-size:20px;font-weight:500;color:#000;border-radius:5px}.field-set[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px;margin-top:5px}"]})}return s})();function y(s,f){if(1&s&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.hexValue," ")}}function j(s,f){if(1&s&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.rgbValue," ")}}function R(s,f){if(1&s&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.cmykValue," ")}}function V(s,f){if(1&s&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.hsvValue," ")}}function T(s,f){if(1&s&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.hslValue," ")}}let F=(()=>{class s{constructor(){this.hue="",this.rgbValue="",this.hexValue="",this.cmykValue="",this.hslValue="",this.hsvValue=""}onSelectColor(e){this.rgbValue=e.join(", "),this.hexValue=this.rgbToHex(e),this.cmykValue=this.rbgToCmyk(e).map(o=>`${Math.round(100*o)}%`).join(", "),this.hslValue=this.rgbToHsl(e).join(", "),this.hsvValue=this.rgbToHsV(e).join(", ")}rgbToHex(e){const[o,i,n]=e.map(l=>parseInt(l));return"#"+((o<<16)+(i<<8)+n).toString(16).padStart(6,"0")}rbgToCmyk(e){let o=0,i=0,n=0,l=0;const[c,a,h]=e.map(p=>parseInt(p));o=1-c/255,i=1-a/255,n=1-h/255;const r=Math.min(o,Math.min(i,n));return o=(o-r)/(1-r),i=(i-r)/(1-r),n=(n-r)/(1-r),l=r,[o,i,n,l]}rgbToHsl(e){const[o,i,n]=e,l=o/255,c=i/255,a=n/255,h=Math.max(l,c,a),r=Math.min(l,c,a),p=(h+r)/2;let u=0,C=0;if(h!==r){const d=h-r;switch(C=p>.5?d/(2-h-r):d/(h+r),h){case l:u=60*((c-a)/d+(c<a?6:0));break;case c:u=60*((a-l)/d+2);break;case a:u=60*((l-c)/d+4)}}return[Math.round(u)+"\xb0",Math.round(100*C)+"%",Math.round(100*p)+"%"]}rgbToHsV(e){const[o,i,n]=e,l=o/255,c=i/255,a=n/255,h=Math.max(l,c,a),r=Math.min(l,c,a),p=h;let u=0,C=0;if(h!==r){const d=h-r;switch(C=d/h,h){case l:u=60*((c-a)/d+(c<a?6:0));break;case c:u=60*((a-l)/d+2);break;case a:u=60*((l-c)/d+4)}}return[Math.round(u)+"\xb0",Math.round(100*C)+"%",Math.round(100*p)+"%"]}static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-color-picker"]],standalone:!0,features:[t.aNF],decls:27,vars:4,consts:[["content",""],[1,"mt-2"],[1,"col-12","d-flex","justify-content-center"],[1,"cur-col"],[3,"color","hue"],[3,"color"],[1,"row"],[1,"col-12","text-center"],["legend","HEX"],[1,"col-3"],["legend","RGB"],["legend","CMYK"],["legend","HSV"],["legend","HSL"],[1,"m-2"]],template:function(o,i){if(1&o){const n=t.RV6();t.j41(0,"div",1)(1,"div",2),t.nrm(2,"div",3),t.j41(3,"app-color-palette",4),t.bIt("color",function(c){return t.eBV(n),t.Njj(i.onSelectColor(c))}),t.k0s()(),t.j41(4,"div",2)(5,"app-color-slider",5),t.bIt("color",function(c){return t.eBV(n),t.Njj(i.hue=c)}),t.k0s()(),t.j41(6,"div",6)(7,"div",7)(8,"app-field-set",8),t.DNE(9,y,2,1,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(11,"div",9)(12,"app-field-set",10),t.DNE(13,j,2,1,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(15,"div",9)(16,"app-field-set",11),t.DNE(17,R,2,1,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(19,"div",9)(20,"app-field-set",12),t.DNE(21,V,2,1,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(23,"div",9)(24,"app-field-set",13),t.DNE(25,T,2,1,"ng-template",null,0,t.C5r),t.k0s()()()()}2&o&&(t.R7$(2),t.muq("--color: ",i.hexValue,""),t.R7$(),t.Y8G("hue",i.hue))},dependencies:[_.YN,w,b,S],styles:[".cur-col[_ngcontent-%COMP%]{width:200px;height:200px;background:var(--color)}"]})}return s})()}}]);