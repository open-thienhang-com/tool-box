<app-page-header header="QR Generator" description="Generate a QR Code"></app-page-header>

<div class="row mt-4">
  <div class="col-6">
    <label>Message</label>
    <mat-form-field class="w-100">
      <textarea matInput rows="5" [(ngModel)]="value"></textarea>
    </mat-form-field>
    <div>
      <label>QR Code Color:</label>
      <div class="d-flex align-items-center">
        <label class="me-3">Dot: </label>
        <input type="color" id="head" name="head" [(ngModel)]="colorDark"/>
      </div>
      <div class="d-flex align-items-center">
        <label class="me-3">Background: </label>
        <input type="color" id="body" name="body" [(ngModel)]="colorLight"/>
      </div>
    </div>
  </div>
  <div class="col-6">
    <label>Live preview</label>
    <div class="qr-container d-flex justify-content-center align-items-center">
      @if (value) {
        <qrcode #qrcode [qrdata]="value" [colorDark]="colorDark" [width]="50 + 2 * qrSize"
                [colorLight]="colorLight"></qrcode>
      }
    </div>
    @if (value) {
      <mat-slider min="1" max="100" step="1" class="w-100">
        <input matSliderThumb [(ngModel)]="qrSize">
      </mat-slider>
      <div class="text-center">
        <button mat-stroked-button (click)="downloadQrCodeImage()">
          <mat-icon aria-hidden="false" fontIcon="download"></mat-icon>
          <label>Download QR</label>
        </button>
      </div>
    }
  </div>
</div>
